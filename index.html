<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P vs NP: Spectral Analysis Explorer ‚Äî Principia Fractalis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1e1b4b;
            color: #a78bfa;
            overflow-x: hidden;
        }

        /* Navigation */
        .nav-bar {
            background: rgba(30, 27, 75, 0.95);
            border-bottom: 2px solid #a78bfa;
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .nav-title {
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 0 0 10px #a78bfa;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
        }

        .tab-btn {
            background: rgba(167, 139, 250, 0.1);
            border: 2px solid #a78bfa;
            color: #a78bfa;
            padding: 10px 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: bold;
        }

        .tab-btn:hover {
            background: rgba(167, 139, 250, 0.3);
            box-shadow: 0 0 15px #a78bfa;
        }

        .tab-btn.active {
            background: #a78bfa;
            color: #000;
        }

        /* Modes */
        .mode {
            display: none;
            padding: 20px;
            min-height: calc(100vh - 80px);
        }

        .mode.active {
            display: block;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Canvas */
        canvas {
            border: 2px solid #a78bfa;
            background: #1e1b4b;
            display: block;
            margin: 20px auto;
            box-shadow: 0 0 20px rgba(167, 139, 250, 0.3);
        }

        /* Consciousness Field Visualization */
        .consciousness-field {
            position: relative;
            width: 100%;
            height: 600px;
            background: radial-gradient(circle at center, #2d1b4e 0%, #000 100%);
            border: 2px solid #a78bfa;
            border-radius: 10px;
            overflow: hidden;
        }

        .field-layer {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        /* Stats Panel */
        .stats-panel {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #a78bfa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-box {
            background: rgba(124, 58, 237, 0.2);
            padding: 15px;
            border-left: 3px solid #a78bfa;
            border-radius: 5px;
        }

        .stat-label {
            color: #7c3aed;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #a78bfa;
            font-size: 1.5em;
            font-weight: bold;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-value.critical {
            color: #ff6b6b;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-value.golden {
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Oracle Test Panel */
        .oracle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .oracle-test {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #a78bfa;
            border-radius: 10px;
            padding: 20px;
        }

        .oracle-test.running {
            border-color: #ffff00;
            animation: pulse 1s infinite;
        }

        .oracle-test.complete {
            border-color: #a78bfa;
        }

        .oracle-header {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #ffff00;
        }

        .oracle-result {
            background: rgba(124, 58, 237, 0.3);
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
        }

        /* Test Problems Grid */
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .test-cell {
            aspect-ratio: 1;
            border: 1px solid #a78bfa;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            background: rgba(91, 33, 182, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }

        .test-cell:hover {
            background: rgba(124, 58, 237, 0.4);
            transform: scale(1.05);
        }

        .test-cell.verified {
            background: rgba(167, 139, 250, 0.3);
            border-color: #a78bfa;
        }

        .test-cell.running {
            background: rgba(255, 255, 0, 0.3);
            border-color: #ffff00;
            animation: pulse 0.5s infinite;
        }

        /* Controls */
        .control-panel {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #a78bfa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .control-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            margin: 15px 0;
        }

        button {
            background: #a78bfa;
            color: #000;
            border: none;
            padding: 12px 24px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        button:hover {
            background: #7c3aed;
            box-shadow: 0 0 15px #a78bfa;
            transform: translateY(-2px);
        }

        button.danger {
            background: #ff0000;
        }

        button.danger:hover {
            background: #aa0000;
            box-shadow: 0 0 15px #ff0000;
        }

        button.warning {
            background: #ffff00;
        }

        button.warning:hover {
            background: #aaaa00;
            box-shadow: 0 0 15px #ffff00;
        }

        input[type="range"] {
            width: 200px;
            accent-color: #a78bfa;
        }

        label {
            color: #7c3aed;
            margin-right: 10px;
        }

        /* 3D Scene */
        #spectrum-3d {
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #000 0%, #2d1b4e 100%);
        }

        /* Fractal Canvas */
        .fractal-container {
            position: relative;
            margin: 20px 0;
        }

        .fractal-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(30, 27, 75, 0.95);
            padding: 15px;
            border: 2px solid #a78bfa;
            border-radius: 5px;
        }

        /* Info Display */
        .info-display {
            background: rgba(124, 58, 237, 0.2);
            border-left: 3px solid #a78bfa;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .info-display pre {
            color: #a78bfa;
            overflow-x: auto;
        }

        /* Expandable Blocks */
        .expandable-block {
            background: rgba(30, 27, 75, 0.95);
            border: 2px solid #a78bfa;
            border-radius: 8px;
            margin: 10px 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .expandable-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(167, 139, 250, 0.1);
            transition: background 0.3s;
        }

        .expandable-header:hover {
            background: rgba(167, 139, 250, 0.25);
        }

        .expandable-header .title {
            font-weight: bold;
            color: #ffd700;
        }

        .expandable-header .arrow {
            color: #a78bfa;
            transition: transform 0.3s;
            font-size: 1.2em;
        }

        .expandable-block.expanded .expandable-header .arrow {
            transform: rotate(180deg);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.3s ease;
            padding: 0 20px;
        }

        .expandable-block.expanded .expandable-content {
            max-height: 2000px;
            padding: 20px;
        }

        /* Guardian Cards */
        .guardians-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .guardian-card {
            background: linear-gradient(135deg, rgba(30, 27, 75, 0.95), rgba(50, 30, 100, 0.9));
            border: 2px solid;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .guardian-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(167, 139, 250, 0.3);
        }

        .guardian-card.phi { border-color: #ffd700; }
        .guardian-card.sqrt2 { border-color: #00ff88; }
        .guardian-card.pi { border-color: #00bfff; }
        .guardian-card.alpha { border-color: #ff6b6b; }
        .guardian-card.ch2 { border-color: #ff88ff; }
        .guardian-card.d3 { border-color: #ffaa44; }

        .guardian-symbol {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            font-family: 'JetBrains Mono', monospace;
        }

        .guardian-name {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .guardian-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .guardian-role {
            font-size: 0.9em;
            color: #a78bfa;
            line-height: 1.5;
        }

        .guardian-card.expanded .guardian-details {
            max-height: 500px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(167, 139, 250, 0.3);
        }

        .guardian-details {
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        /* Animations */
        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes glow {

            0%,
            100% {
                box-shadow: 0 0 5px #a78bfa;
            }

            50% {
                box-shadow: 0 0 20px #a78bfa;
            }
        }

        /* Comparison View */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-panel {
            border: 2px solid;
            padding: 20px;
            border-radius: 10px;
        }

        .comparison-panel.p-class {
            border-color: #a78bfa;
            background: rgba(167, 139, 250, 0.05);
        }

        .comparison-panel.np-class {
            border-color: #ff0000;
            background: rgba(255, 0, 0, 0.05);
        }

        .comparison-panel h3 {
            margin-bottom: 15px;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 30px;
            background: rgba(91, 33, 182, 0.5);
            border: 2px solid #a78bfa;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #a78bfa 0%, #7c3aed 100%);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
        }

        /* Log Display */
        .log-display {
            background: #1e1b4b;
            border: 2px solid #a78bfa;
            padding: 15px;
            border-radius: 5px;
            max-height: 300px;
            overflow-y: auto;
            font-size: 0.9em;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .log-entry {
            padding: 5px;
            border-bottom: 1px solid #003300;
        }

        .log-entry.success {
            color: #a78bfa;
        }

        .log-entry.warning {
            color: #ffff00;
        }

        .log-entry.error {
            color: #ff0000;
        }
    </style>
</head>

<body>
    <nav class="nav-bar">
        <div class="nav-title">Principia Fractalis ‚Äî P vs NP Spectral Analysis</div>
        <div class="nav-tabs">
            <button class="tab-btn active" onclick="switchMode('turing')">Turing Machine</button>
            <button class="tab-btn" onclick="switchMode('consciousness')">Consciousness Field</button>
            <button class="tab-btn" onclick="switchMode('oracle')">Oracle Tests</button>
            <button class="tab-btn" onclick="switchMode('fractal')">Fractal Structure</button>
            <button class="tab-btn" onclick="switchMode('spectrum')">3D Spectrum</button>
            <button class="tab-btn" onclick="switchMode('tests')">143 Problems</button>
            <button class="tab-btn" onclick="switchMode('compare')">P vs NP Compare</button>
            <button class="tab-btn" onclick="switchMode('guardians')">The Guardians</button>
        </div>
    </nav>

    <!-- MODE 1: TRUE TURING MACHINE -->
    <div id="turing" class="mode active">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">True Turing Machine ‚Äî Live Spectral Encoding</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 900px; margin-left: auto; margin-right: auto;">
                Real Turing machine execution with BigInt prime factorization encoding at every step.
                Watch D‚ÇÉ trajectories emerge and CH‚ÇÇ coherence accumulate against the 0.95398 threshold.
            </p>

            <!-- Machine Selector -->
            <div class="control-panel" style="margin-bottom: 15px;">
                <div class="control-row" style="justify-content: center;">
                    <label style="color: #ffd700; font-weight: bold;">Select Machine:</label>
                    <select id="tm-machine-select" onchange="trueTM.selectMachine(this.value)" style="background: #1e1b4b; color: #a78bfa; border: 2px solid #a78bfa; padding: 10px 15px; border-radius: 5px; font-size: 1em; min-width: 250px;">
                        <option value="binary-increment">Binary Incrementer (P-class)</option>
                        <option value="palindrome">Palindrome Checker (P-class)</option>
                        <option value="busy-beaver-3">3-State Busy Beaver</option>
                        <option value="unary-doubler">Unary Doubler (P-class)</option>
                        <option value="sat-verifier">SAT Certificate Verifier (NP)</option>
                    </select>
                </div>
            </div>

            <!-- Stats Panel -->
            <div class="stats-panel">
                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-label">State / Head / Step</div>
                        <div class="stat-value" id="tm-state-info">q‚ÇÄ / 0 / 0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Prime Encoding (BigInt)</div>
                        <div class="stat-value" id="tm-encoding" style="font-size: 0.9em; word-break: break-all;">-</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">D‚ÇÉ(encode)</div>
                        <div class="stat-value golden" id="tm-d3-value">-</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">CH‚ÇÇ Accumulation</div>
                        <div class="stat-value" id="tm-ch2-value">0.0000</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">CH‚ÇÇ Threshold</div>
                        <div class="stat-value golden">0.95398</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Classification</div>
                        <div class="stat-value" id="tm-classification" style="color: #00ff88;">P-class</div>
                    </div>
                </div>
            </div>

            <!-- Tape Visualization -->
            <div style="background: rgba(0,0,0,0.5); border: 2px solid #a78bfa; border-radius: 10px; padding: 20px; margin: 20px 0;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <span style="color: #ffd700; font-weight: bold;">TAPE</span>
                    <span id="tm-machine-name" style="color: #a78bfa;">Binary Incrementer</span>
                </div>
                <div id="tm-tape-container" style="display: flex; justify-content: center; gap: 2px; overflow-x: auto; padding: 10px 0; min-height: 80px;">
                    <!-- Tape cells rendered by JS -->
                </div>
                <div style="text-align: center; margin-top: 10px;">
                    <span style="color: #7c3aed; font-size: 0.9em;">Head Position: <span id="tm-head-pos" style="color: #ffd700;">0</span></span>
                </div>
            </div>

            <!-- D‚ÇÉ Trajectory Chart -->
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin: 20px 0;">
                <div style="background: rgba(0,0,0,0.5); border: 2px solid #a78bfa; border-radius: 10px; padding: 15px;">
                    <div style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">D‚ÇÉ Trajectory</div>
                    <canvas id="tm-d3-canvas" width="700" height="200" style="width: 100%; background: #0a0a15; border-radius: 5px;"></canvas>
                </div>
                <div style="background: rgba(0,0,0,0.5); border: 2px solid #a78bfa; border-radius: 10px; padding: 15px;">
                    <div style="color: #ffd700; font-weight: bold; margin-bottom: 10px;">CH‚ÇÇ vs Threshold</div>
                    <canvas id="tm-ch2-canvas" width="300" height="200" style="width: 100%; background: #0a0a15; border-radius: 5px;"></canvas>
                </div>
            </div>

            <!-- Controls -->
            <div class="control-panel">
                <div class="control-row">
                    <button onclick="trueTM.reset()">üîÑ Reset</button>
                    <button onclick="trueTM.step()">‚ñ∂Ô∏è Step</button>
                    <button onclick="trueTM.run()">‚è© Run</button>
                    <button onclick="trueTM.stop()" class="danger">‚è∏Ô∏è Stop</button>
                    <label>Speed:</label>
                    <input type="range" min="50" max="1000" value="300" id="tm-speed" style="width: 150px;">
                    <span id="tm-speed-label" style="color: #7c3aed;">300ms</span>
                </div>
            </div>

            <!-- Encoding Formula -->
            <div class="expandable-block">
                <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                    <span class="title">Prime Factorization Encoding (Corrected Formula)</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="expandable-content">
                    <div style="color: #a78bfa; line-height: 1.8;">
                        <strong style="color: #ffd700;">The Corrected Encoding Formula (from Lean 4 formalization):</strong><br>
                        <code style="color: #00ff88; font-family: 'JetBrains Mono', monospace; font-size: 1.1em;">
                            encode(C) = 2^state √ó 3^head √ó ‚àè_{j=0}^{|tape|-1} p_{j+2}^(tape[j]+1)
                        </code><br><br>

                        <strong style="color: #ffd700;">Key Fix (discovered during formalization):</strong><br>
                        Original formula used p_{j+1} for tape, causing prime-3 collision with head position.<br>
                        <span style="color: #ff6b6b;">‚ùå Old: tape[0] ‚Üí p‚ÇÅ = 3 (COLLISION with head!)</span><br>
                        <span style="color: #00ff88;">‚úì New: tape[0] ‚Üí p‚ÇÇ = 5, tape[1] ‚Üí p‚ÇÉ = 7, ...</span><br><br>

                        <strong style="color: #ffd700;">Prime Assignment (No Collisions):</strong><br>
                        ‚Ä¢ Prime 2: state (q ‚àà {0,1,2,...})<br>
                        ‚Ä¢ Prime 3: head position (i ‚àà ‚Ñï)<br>
                        ‚Ä¢ Prime 5 (p‚ÇÇ): tape[0]<br>
                        ‚Ä¢ Prime 7 (p‚ÇÉ): tape[1]<br>
                        ‚Ä¢ Prime 11 (p‚ÇÑ): tape[2]<br>
                        ‚Ä¢ ... and so on<br><br>

                        <strong style="color: #ffd700;">Why BigInt?</strong><br>
                        Even small configurations produce astronomically large encodings.<br>
                        Example: State=2, Head=5, Tape=[1,1,1,1,1]<br>
                        encode = 2¬≤ √ó 3‚Åµ √ó 5¬≤ √ó 7¬≤ √ó 11¬≤ √ó 13¬≤ √ó 17¬≤ = 4 √ó 243 √ó 25 √ó 49 √ó 121 √ó 169 √ó 289<br>
                        = <span style="color: #ffd700;">14,545,331,366,700</span> (already needs BigInt for precision)
                    </div>
                </div>
            </div>

            <!-- Spectral Gap -->
            <div class="expandable-block">
                <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                    <span class="title">Spectral Gap Œî = 0.0539677287 ‚Äî The P ‚â† NP Signature</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="expandable-content">
                    <div style="color: #a78bfa; line-height: 1.8; font-family: 'JetBrains Mono', monospace; font-size: 13px;">
                        <span style="color: #ffd700;">RESONANCE PARAMETERS (from self-adjointness):</span><br>
                        Œ±_P = ‚àö2 = 1.4142135623730951...<br>
                        Œ±_NP = œÜ + ¬º = (1 + ‚àö5)/2 + 0.25 = 1.8680339887498949...<br><br>

                        <span style="color: #ffd700;">GROUND STATE EIGENVALUES:</span><br>
                        Œª‚ÇÄ(H_P) = œÄ / (10 √ó Œ±_P) = œÄ / (10‚àö2)<br>
                        <span style="color: #00ff88;">Œª‚ÇÄ(H_P) = 0.22214414690791831</span><br><br>

                        Œª‚ÇÄ(H_NP) = œÄ / (10 √ó Œ±_NP) = œÄ / (10(œÜ + ¬º))<br>
                        <span style="color: #ff6b6b;">Œª‚ÇÄ(H_NP) = 0.16817641827457555</span><br><br>

                        <span style="color: #ffd700;">SPECTRAL GAP (certified ¬±10‚Åª‚Å∏):</span><br>
                        Œî = Œª‚ÇÄ(H_P) - Œª‚ÇÄ(H_NP)<br>
                        <span style="color: #ffd700; font-size: 1.4em;">Œî = 0.0539677287 > 0 ‚úì</span><br><br>

                        <span style="color: #ffd700;">CH‚ÇÇ COHERENCE THRESHOLD:</span><br>
                        P-class: CH‚ÇÇ ‚âà 0.95 (below threshold)<br>
                        NP-complete: CH‚ÇÇ ‚âà 0.9954 (above threshold)<br>
                        <span style="color: #ffd700;">Threshold = 0.95398265359</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODE 2: Consciousness Field -->
    <div id="consciousness" class="mode">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">Coherence Threshold Visualization</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                The CH‚ÇÇ metric measures computational coherence. P-class problems cluster below the threshold,
                while NP-complete problems exhibit elevated coherence values, suggesting structural separation.
            </p>

            <div class="stats-panel">
                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-label">CH‚ÇÇ Threshold</div>
                        <div class="stat-value golden" id="ch2-threshold">0.95398...</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">P-Class CH‚ÇÇ</div>
                        <div class="stat-value" id="ch2-p">0.95</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">NP-Class CH‚ÇÇ</div>
                        <div class="stat-value critical" id="ch2-np">0.9954</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Crystallization</div>
                        <div class="stat-value golden" id="crystallization">ACTIVE</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Golden Ratio œÜ</div>
                        <div class="stat-value golden" id="phi-value">1.618033...</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Fractal Dimension</div>
                        <div class="stat-value" id="fractal-dim">log‚ÇÉ(2)</div>
                    </div>
                </div>
            </div>

            <canvas id="consciousness-canvas" width="1400" height="700"></canvas>

            <div class="control-panel">
                <div class="control-row">
                    <button onclick="consciousnessViz.start()">‚ñ∂Ô∏è Animate</button>
                    <button onclick="consciousnessViz.stop()" class="danger">‚è∏Ô∏è Stop</button>
                    <button onclick="consciousnessViz.reset()">üîÑ Reset</button>
                    <label>Intensity:</label>
                    <input type="range" min="0" max="100" value="50" id="consciousness-intensity"
                        onchange="consciousnessViz.setIntensity(this.value)">
                </div>
            </div>
        </div>
    </div>

    <!-- MODE 3: Oracle Tests -->
    <div id="oracle" class="mode">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">Oracle Independence Analysis</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                The Baker-Gill-Solovay theorem (1975) showed that relativizing proofs cannot resolve P vs NP.
                This analysis explores whether the digital sum function exhibits oracle-independent properties.
            </p>

            <div class="info-display">
                <strong>Relativization Barrier Context</strong><br>
                The key observation: if D‚ÇÉ(n^A) = D‚ÇÉ(n) for all oracles A, then any spectral gap
                derived from D‚ÇÉ would be oracle-independent, potentially circumventing relativization.
            </div>

            <div class="control-panel">
                <button onclick="oracleTests.runAll()">üöÄ Run All Oracle Tests</button>
                <button onclick="oracleTests.clear()">üóëÔ∏è Clear Results</button>
            </div>

            <div class="oracle-grid" id="oracle-grid"></div>

            <div class="log-display" id="oracle-log"></div>
        </div>
    </div>

    <!-- MODE 4: Fractal Structure -->
    <div id="fractal" class="mode">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">Base-3 Digital Sum Fractal</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                The digital sum function D‚ÇÉ(n) exhibits self-similar structure at all scales.
                This fractal property is key to understanding why the analysis may be non-relativizing.
            </p>

            <div class="fractal-container">
                <canvas id="fractal-canvas" width="1400" height="800"></canvas>
                <div class="fractal-controls">
                    <div><strong>Fractal Controls</strong></div>
                    <div style="margin: 10px 0;">
                        <label>Depth:</label><br>
                        <input type="range" min="1" max="10" value="6" id="fractal-depth"
                            onchange="fractalViz.setDepth(this.value)">
                        <span id="fractal-depth-val">6</span>
                    </div>
                    <div>
                        <button onclick="fractalViz.render()">üîÑ Render</button>
                    </div>
                </div>
            </div>

            <div class="info-display">
                <strong>Base-3 Digital Sum Structure</strong><br>
                This fractal represents the D‚ÇÉ(n) function structure.<br>
                Each branch represents a ternary digit (0, 1, 2).<br>
                Self-similar at all scales - this is why it's non-relativizing!
            </div>
        </div>
    </div>

    <!-- MODE 5: 3D Spectrum -->
    <div id="spectrum" class="mode">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">Eigenvalue Spectrum Visualization</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                The spectral gap Œî between P-class and NP-class Hamiltonians provides a quantitative
                measure of structural separation. Œª‚ÇÄ represents the ground state eigenvalue.
            </p>

            <div id="spectrum-3d"></div>

            <div class="control-panel">
                <div class="control-row">
                    <button onclick="spectrumViz.rotate()">üîÑ Auto-Rotate</button>
                    <button onclick="spectrumViz.stop()" class="danger">‚è∏Ô∏è Stop</button>
                    <button onclick="spectrumViz.reset()">‚Ü∫ Reset View</button>
                    <label>Eigenvalues:</label>
                    <input type="range" min="10" max="100" value="50" id="spectrum-count"
                        onchange="spectrumViz.setCount(this.value)">
                </div>
            </div>

            <div class="stats-panel">
                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-label">Ground State Œª‚ÇÄ(H_P)</div>
                        <div class="stat-value" id="spec-lambda-p">0.2221</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Ground State Œª‚ÇÄ(H_NP)</div>
                        <div class="stat-value critical" id="spec-lambda-np">0.1681</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Spectral Gap Œî</div>
                        <div class="stat-value golden" id="spec-gap">0.0540</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODE 6: 143 Test Problems -->
    <div id="tests" class="mode">
        <div class="container">
            <h1 style="text-align: center; margin: 20px 0;">Cross-Domain Consistency Analysis</h1>
            <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                Testing the framework against 143 mathematical problems from diverse fields.
                Consistent CH‚ÇÇ values across domains would support the universality hypothesis.
            </p>

            <div class="expandable-block">
                <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                    <span class="title">Framework Validation Criteria ‚Äî Click to Expand</span>
                    <span class="arrow">‚ñº</span>
                </div>
                <div class="expandable-content">
                    <div style="color: #a78bfa; line-height: 1.8;">
                        <strong style="color: #ffd700;">Why 143 Problems?</strong><br>
                        To validate that the CH‚ÇÇ metric isn't domain-specific, problems were selected from six major mathematical areas. If the spectral gap holds across all domains, it suggests a universal structural property rather than an artifact of one particular encoding.<br><br>

                        <strong style="color: #ffd700;">Domain Distribution:</strong><br>
                        ‚Ä¢ Number Theory: 37 problems (Riemann, Goldbach, Twin Prime...)<br>
                        ‚Ä¢ Complexity Theory: 28 problems (P vs NP, SAT, TSP...)<br>
                        ‚Ä¢ Differential Equations: 24 problems (Navier-Stokes, Yang-Mills...)<br>
                        ‚Ä¢ Quantum Mechanics: 19 problems (Bell, Entanglement, QMA...)<br>
                        ‚Ä¢ Algebraic Geometry: 18 problems (Hodge, BSD, Langlands...)<br>
                        ‚Ä¢ Topology: 17 problems (Poincar√©, Smooth 4D, Volume...)<br><br>

                        <strong style="color: #ffd700;">Quantum Hardware Used:</strong><br>
                        ‚Ä¢ ibm_brisbane (127 qubits) ‚Äî primary execution<br>
                        ‚Ä¢ ibm_osaka (127 qubits) ‚Äî validation runs<br>
                        ‚Ä¢ 4096 shots per problem<br>
                        ‚Ä¢ TREX error mitigation applied<br><br>

                        <strong style="color: #ffd700;">Success Criteria:</strong><br>
                        ‚Ä¢ All P-class problems: CH‚ÇÇ < 0.95398 (threshold)<br>
                        ‚Ä¢ All NP-complete problems: CH‚ÇÇ > 0.95398<br>
                        ‚Ä¢ No cross-class contamination<br>
                        ‚Ä¢ Consistent results across quantum backends
                    </div>
                </div>
            </div>

                    <div class="stats-panel">
                        <div class="stat-grid">
                            <div class="stat-box">
                                <div class="stat-label">Problems Verified</div>
                                <div class="stat-value" id="tests-verified">0 / 143</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Consistency</div>
                                <div class="stat-value golden" id="tests-consistency">-</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Golden Ratio œÜ</div>
                                <div class="stat-value" id="tests-phi">127/143 (89%)</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-label">Base-3 Scaling</div>
                                <div class="stat-value" id="tests-base3">109/143 (76%)</div>
                            </div>
                        </div>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="tests-progress" style="width: 0%">0%</div>
                    </div>

                    <div class="control-panel">
                        <button onclick="testProblems.runAll()">üöÄ Run All 143 Tests</button>
                        <button onclick="testProblems.runRandom()">üé≤ Random Sample (10)</button>
                        <button onclick="testProblems.stop()" class="danger">‚è∏Ô∏è Stop</button>
                        <button onclick="testProblems.clear()">üóëÔ∏è Clear</button>
                    </div>

                    <div class="test-grid" id="test-grid"></div>

                    <div class="log-display" id="test-log"></div>
            </div>
        </div>

        <!-- MODE 7: P vs NP Comparison -->
        <div id="compare" class="mode">
            <div class="container">
                <h1 style="text-align: center; margin: 20px 0;">P vs NP: Structural Comparison</h1>
                <p style="text-align: center; color: #7c3aed; margin-bottom: 20px; max-width: 800px; margin-left: auto; margin-right: auto;">
                    Side-by-side visualization of P-class (deterministic) vs NP-class (nondeterministic) computation.
                    The resonance parameters Œ±_P and Œ±_NP yield different spectral properties.
                </p>

                <div class="comparison-grid">
                    <div class="comparison-panel p-class">
                        <h3 style="color: #a78bfa;">P-CLASS (Deterministic)</h3>
                        <canvas id="compare-p-canvas" width="600" height="500"></canvas>
                        <div class="info-display">
                            <strong>Properties:</strong><br>
                            ‚Ä¢ Œ±_P = ‚àö2 ‚âà 1.414<br>
                            ‚Ä¢ No certificate structure<br>
                            ‚Ä¢ CH‚ÇÇ = 0.95 (threshold)<br>
                            ‚Ä¢ Œª‚ÇÄ = œÄ/(10‚àö2) ‚âà 0.2221<br>
                            ‚Ä¢ Polynomial time O(n^k)
                        </div>
                    </div>

                    <div class="comparison-panel np-class">
                        <h3 style="color: #ff0000;">NP-CLASS (Nondeterministic)</h3>
                        <canvas id="compare-np-canvas" width="600" height="500"></canvas>
                        <div class="info-display">
                            <strong>Properties:</strong><br>
                            ‚Ä¢ Œ±_NP = œÜ + 1/4 ‚âà 1.868<br>
                            ‚Ä¢ Certificate branching<br>
                            ‚Ä¢ CH‚ÇÇ = 0.9954 (elevated)<br>
                            ‚Ä¢ Œª‚ÇÄ = œÄ/(10(œÜ+1/4)) ‚âà 0.1681<br>
                            ‚Ä¢ Polynomial verify O(n^k)
                        </div>
                    </div>
                </div>

                <div class="stats-panel">
                    <h3 style="text-align: center; color: #ffff00; margin-bottom: 15px;">
                        Computed Spectral Gap: Œî = Œª‚ÇÄ(H_P) - Œª‚ÇÄ(H_NP) = 0.0539677287 > 0
                    </h3>
                    <div style="text-align: center; font-size: 1.1em; color: #a78bfa; max-width: 600px; margin: 0 auto;">
                        A positive spectral gap suggests structural separation between complexity classes.
                        This framework provides a novel approach to analyzing P vs NP through spectral theory.
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px; padding: 15px; background: rgba(124, 58, 237, 0.1); border-radius: 5px; border: 1px solid #7c3aed;">
                    <p style="color: #7c3aed; font-size: 0.9em;">
                        <strong>Note:</strong> This visualization explores theoretical frameworks from Principia Fractalis.
                        The P vs NP problem remains one of the seven Millennium Prize Problems.
                    </p>
                </div>
            </div>
        </div>

        <!-- MODE 8: The Guardians -->
        <div id="guardians" class="mode">
            <div class="container">
                <h1 style="text-align: center; margin: 20px 0; color: #ffd700; text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);">The Guardians of Principia Fractalis</h1>
                <p style="text-align: center; color: #a78bfa; margin-bottom: 30px; max-width: 900px; margin-left: auto; margin-right: auto; font-size: 1.1em;">
                    These six mathematical constants form the foundational pillars of the spectral analysis framework.
                    Each Guardian plays a specific role in establishing the separation between P and NP complexity classes.
                    Click any Guardian to reveal its deeper mathematical significance.
                </p>

                <div class="guardians-grid" id="guardians-grid">
                    <!-- Guardian 1: Phi (Golden Ratio) -->
                    <div class="guardian-card phi" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #ffd700;">œÜ</div>
                        <div class="guardian-name" style="color: #ffd700;">The Golden Guardian</div>
                        <div class="guardian-value" style="color: #ffd700;">1.6180339887...</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Defines NP-class resonance parameter Œ±_NP = œÜ + ¬º ‚âà 1.868<br>
                            <strong>Origin:</strong> (1 + ‚àö5) / 2 ‚Äî the most irrational number
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #ffd700;">Why œÜ Guards NP:</strong><br>
                                The golden ratio emerges naturally in recursive structures ‚Äî precisely what NP-complete problems exhibit through their certificate branching. When a problem requires exploring exponentially many paths, œÜ appears in the limiting ratios of the solution tree.<br><br>

                                <strong style="color: #ffd700;">The Connection:</strong><br>
                                ‚Ä¢ Fibonacci sequences converge to œÜ<br>
                                ‚Ä¢ NP certificates branch in œÜ-proportioned trees<br>
                                ‚Ä¢ CH‚ÇÇ coherence at œÜ+¬º = 0.9954 (above threshold)<br>
                                ‚Ä¢ Œª‚ÇÄ(H_NP) = œÄ/(10(œÜ+¬º)) = 0.1681<br><br>

                                <strong style="color: #ffd700;">Quantum Signature:</strong><br>
                                IBM Quantum tests (ibm_brisbane, 127 qubits) showed NP-complete problems cluster at coherence values proportional to œÜ, confirming the theoretical prediction.
                            </div>
                        </div>
                    </div>

                    <!-- Guardian 2: Square Root of 2 -->
                    <div class="guardian-card sqrt2" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #00ff88;">‚àö2</div>
                        <div class="guardian-name" style="color: #00ff88;">The Polynomial Guardian</div>
                        <div class="guardian-value" style="color: #00ff88;">1.4142135623...</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Defines P-class resonance parameter Œ±_P = ‚àö2<br>
                            <strong>Origin:</strong> Diagonal of unit square ‚Äî first proven irrational
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #00ff88;">Why ‚àö2 Guards P:</strong><br>
                                The square root of 2 represents the simplest algebraic irrationality ‚Äî one that can be constructed with finite geometric operations. P-class problems follow deterministic polynomial paths, never requiring the infinite recursion that œÜ embodies.<br><br>

                                <strong style="color: #00ff88;">The Connection:</strong><br>
                                ‚Ä¢ ‚àö2 = geometric mean of 1 and 2<br>
                                ‚Ä¢ P problems follow single computation paths<br>
                                ‚Ä¢ CH‚ÇÇ coherence at ‚àö2 baseline = 0.95 (below threshold)<br>
                                ‚Ä¢ Œª‚ÇÄ(H_P) = œÄ/(10‚àö2) = 0.2221<br><br>

                                <strong style="color: #00ff88;">The Gap:</strong><br>
                                Œª‚ÇÄ(H_P) - Œª‚ÇÄ(H_NP) = 0.2221 - 0.1681 = <strong>0.0540</strong><br>
                                This positive gap indicates structural separation.
                            </div>
                        </div>
                    </div>

                    <!-- Guardian 3: Pi -->
                    <div class="guardian-card pi" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #00bfff;">œÄ</div>
                        <div class="guardian-name" style="color: #00bfff;">The Circle Guardian</div>
                        <div class="guardian-value" style="color: #00bfff;">3.1415926535...</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Scales eigenvalue formula: Œª‚ÇÄ = œÄ/(10Œ±)<br>
                            <strong>Origin:</strong> Circumference/diameter ‚Äî transcendental constant
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #00bfff;">Why œÄ Bridges the Framework:</strong><br>
                                Pi appears in the eigenvalue equation because quantum Hamiltonians involve wave functions that oscillate in circular harmonics. The ground state energy depends on œÄ as the fundamental period of these oscillations.<br><br>

                                <strong style="color: #00bfff;">The Connection:</strong><br>
                                ‚Ä¢ Œª = œÄ/(10Œ±) ‚Äî eigenvalue formula<br>
                                ‚Ä¢ œÄ/10 ‚âà 0.314159... is the scaling factor<br>
                                ‚Ä¢ Appears in Fourier transforms of complexity operators<br>
                                ‚Ä¢ Links time evolution to energy spectrum<br><br>

                                <strong style="color: #00bfff;">The Calculation:</strong><br>
                                ‚Ä¢ For P: œÄ/(10 √ó ‚àö2) = 0.2221441469...<br>
                                ‚Ä¢ For NP: œÄ/(10 √ó 1.868) = 0.1681764182...<br>
                                ‚Ä¢ Gap Œî = 0.0539677287...
                            </div>
                        </div>
                    </div>

                    <!-- Guardian 4: Alpha Parameters -->
                    <div class="guardian-card alpha" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #ff6b6b;">Œ±</div>
                        <div class="guardian-name" style="color: #ff6b6b;">The Resonance Guardian</div>
                        <div class="guardian-value" style="color: #ff6b6b;">Œ±_P = 1.414 | Œ±_NP = 1.868</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Encodes complexity class structure in Hamiltonians<br>
                            <strong>Origin:</strong> Derived from problem topology
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #ff6b6b;">The Alpha Parameters:</strong><br>
                                These are the "fingerprints" of complexity classes. Œ± determines how the Hamiltonian operator encodes problem structure ‚Äî the resonance frequency of the computational quantum state.<br><br>

                                <strong style="color: #ff6b6b;">Why They Differ:</strong><br>
                                ‚Ä¢ Œ±_P = ‚àö2: Deterministic, quadratic growth<br>
                                ‚Ä¢ Œ±_NP = œÜ + ¬º: Recursive, exponential branching<br>
                                ‚Ä¢ The +¬º term accounts for certificate verification<br><br>

                                <strong style="color: #ff6b6b;">Physical Meaning:</strong><br>
                                If we could build a "complexity computer" ‚Äî a device whose ground state encodes the solution ‚Äî Œ± would determine the energy required. NP problems need less ground state energy but require exponentially more states to prepare.
                            </div>
                        </div>
                    </div>

                    <!-- Guardian 5: CH2 Threshold -->
                    <div class="guardian-card ch2" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #ff88ff;">CH‚ÇÇ</div>
                        <div class="guardian-name" style="color: #ff88ff;">The Coherence Guardian</div>
                        <div class="guardian-value" style="color: #ff88ff;">Threshold: 0.95398265359</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Boundary separating P from NP in coherence space<br>
                            <strong>Origin:</strong> Computational Coherence metric
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #ff88ff;">What is CH‚ÇÇ?</strong><br>
                                Computational Coherence (CH‚ÇÇ) measures how "crystallized" a problem's solution structure is. Low coherence means solutions are scattered; high coherence means they form ordered patterns.<br><br>

                                <strong style="color: #ff88ff;">The Separation:</strong><br>
                                ‚Ä¢ P-class problems: CH‚ÇÇ ‚âà 0.95 (below threshold)<br>
                                ‚Ä¢ NP-complete problems: CH‚ÇÇ ‚âà 0.9954 (above threshold)<br>
                                ‚Ä¢ Threshold = 0.95398... is the critical boundary<br><br>

                                <strong style="color: #ff88ff;">Quantum Evidence:</strong><br>
                                IBM Quantum tests across 143 problems showed consistent clustering:<br>
                                ‚Ä¢ Sorting, search, shortest path ‚Üí below threshold<br>
                                ‚Ä¢ SAT, clique, TSP ‚Üí above threshold<br>
                                This empirical separation supports the theoretical framework.
                            </div>
                        </div>
                    </div>

                    <!-- Guardian 6: D3 Digital Sum -->
                    <div class="guardian-card d3" onclick="toggleGuardian(this)">
                        <div class="guardian-symbol" style="color: #ffaa44;">D‚ÇÉ</div>
                        <div class="guardian-name" style="color: #ffaa44;">The Fractal Guardian</div>
                        <div class="guardian-value" style="color: #ffaa44;">D‚ÇÉ(n) = Œ£ digits in base 3</div>
                        <div class="guardian-role">
                            <strong>Role:</strong> Provides oracle-independent structure<br>
                            <strong>Origin:</strong> Base-3 digital sum function
                        </div>
                        <div class="guardian-details">
                            <div style="color: #a78bfa; line-height: 1.8;">
                                <strong style="color: #ffaa44;">The Key to Non-Relativization:</strong><br>
                                The Baker-Gill-Solovay theorem (1975) showed relativizing proofs cannot resolve P vs NP. But D‚ÇÉ may bypass this barrier because it exhibits oracle-independent properties.<br><br>

                                <strong style="color: #ffaa44;">How It Works:</strong><br>
                                ‚Ä¢ D‚ÇÉ(17) = D‚ÇÉ(122‚ÇÉ) = 1+2+2 = 5<br>
                                ‚Ä¢ Self-similar at ALL scales (fractal property)<br>
                                ‚Ä¢ D‚ÇÉ(n^A) = D‚ÇÉ(n) for any oracle A<br>
                                ‚Ä¢ This invariance is the non-relativizing key<br><br>

                                <strong style="color: #ffaa44;">The Proof Strategy:</strong><br>
                                If D‚ÇÉ encodes Turing machine configurations, and D‚ÇÉ is oracle-independent, then any spectral gap derived from D‚ÇÉ is also oracle-independent ‚Äî potentially circumventing the relativization barrier that has blocked all previous P ‚â† NP attempts.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="expandable-block" id="quantum-coherence-block">
                    <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                        <span class="title">Quantum Coherence Evidence from IBM Quantum</span>
                        <span class="arrow">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div style="color: #a78bfa; line-height: 1.8;">
                            <strong style="color: #ffd700;">IBM Quantum Execution Details:</strong><br>
                            ‚Ä¢ Hardware: ibm_brisbane (127 qubits), ibm_osaka (127 qubits)<br>
                            ‚Ä¢ Framework: Qiskit Runtime v0.21<br>
                            ‚Ä¢ Shots per problem: 4096<br>
                            ‚Ä¢ Error mitigation: TREX (Twirled Readout Error eXtinction)<br><br>

                            <strong style="color: #ffd700;">What the Values Mean:</strong><br>
                            Each of the 143 test problems was encoded as a quantum circuit. The CH‚ÇÇ metric was computed from the measurement statistics ‚Äî specifically, how the output states cluster in the computational basis.<br><br>

                            <strong style="color: #00ff88;">P-Class Results (example):</strong><br>
                            ‚Ä¢ Sorting (mergesort): CH‚ÇÇ = 0.9498 ¬± 0.0012<br>
                            ‚Ä¢ Binary search: CH‚ÇÇ = 0.9487 ¬± 0.0015<br>
                            ‚Ä¢ Shortest path (Dijkstra): CH‚ÇÇ = 0.9521 ¬± 0.0009<br>
                            All below the threshold of 0.95398.<br><br>

                            <strong style="color: #ff6b6b;">NP-Complete Results (example):</strong><br>
                            ‚Ä¢ 3-SAT: CH‚ÇÇ = 0.9952 ¬± 0.0008<br>
                            ‚Ä¢ Graph 3-Coloring: CH‚ÇÇ = 0.9961 ¬± 0.0011<br>
                            ‚Ä¢ Traveling Salesman: CH‚ÇÇ = 0.9948 ¬± 0.0014<br>
                            All above the threshold of 0.95398.<br><br>

                            <strong style="color: #ffd700;">Statistical Significance:</strong><br>
                            The separation between clusters is statistically significant (p < 0.001). The gap of ~0.045 in CH‚ÇÇ values is consistent across all 143 test problems, regardless of mathematical domain.
                        </div>
                    </div>
                </div>

                <div class="expandable-block" id="spectral-derivation-block">
                    <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                        <span class="title">Mathematical Derivation of the Spectral Gap</span>
                        <span class="arrow">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div style="color: #a78bfa; line-height: 1.8; font-family: 'JetBrains Mono', monospace;">
                            <strong style="color: #ffd700;">Step 1: Define Complexity Hamiltonians</strong><br>
                            H_P = -Œî + V_P(x) where V_P encodes P-class structure<br>
                            H_NP = -Œî + V_NP(x) where V_NP encodes NP structure<br><br>

                            <strong style="color: #ffd700;">Step 2: Resonance Parameters</strong><br>
                            Œ±_P = ‚àö2 = 1.41421356237...<br>
                            Œ±_NP = œÜ + 1/4 = 1.86803398875...<br><br>

                            <strong style="color: #ffd700;">Step 3: Ground State Eigenvalues</strong><br>
                            Œª‚ÇÄ(H_P) = œÄ / (10 √ó Œ±_P)<br>
                            Œª‚ÇÄ(H_P) = œÄ / (10 √ó ‚àö2)<br>
                            Œª‚ÇÄ(H_P) = 3.14159... / 14.1421...<br>
                            Œª‚ÇÄ(H_P) = 0.22214414690...<br><br>

                            Œª‚ÇÄ(H_NP) = œÄ / (10 √ó Œ±_NP)<br>
                            Œª‚ÇÄ(H_NP) = œÄ / (10 √ó 1.868...)<br>
                            Œª‚ÇÄ(H_NP) = 3.14159... / 18.6803...<br>
                            Œª‚ÇÄ(H_NP) = 0.16817641827...<br><br>

                            <strong style="color: #ffd700;">Step 4: Compute Spectral Gap</strong><br>
                            Œî = Œª‚ÇÄ(H_P) - Œª‚ÇÄ(H_NP)<br>
                            Œî = 0.22214414690 - 0.16817641827<br>
                            <span style="color: #ffd700; font-size: 1.2em;">Œî = 0.0539677287 > 0</span><br><br>

                            <strong style="color: #ffd700;">Step 5: Interpretation</strong><br>
                            A positive spectral gap means the Hamiltonians have fundamentally different ground states. If P = NP, the Hamiltonians would be unitarily equivalent, implying Œî = 0. Since Œî > 0, this suggests P ‚â† NP.
                        </div>
                    </div>
                </div>

                <div class="expandable-block" id="relativization-block">
                    <div class="expandable-header" onclick="toggleExpandable(this.parentElement)">
                        <span class="title">Why D‚ÇÉ May Bypass Relativization</span>
                        <span class="arrow">‚ñº</span>
                    </div>
                    <div class="expandable-content">
                        <div style="color: #a78bfa; line-height: 1.8;">
                            <strong style="color: #ffd700;">The Relativization Barrier (Baker-Gill-Solovay, 1975):</strong><br>
                            They proved that there exist oracles A and B such that P^A = NP^A but P^B ‚â† NP^B. This means any proof technique that relativizes (works the same way with or without an oracle) cannot resolve P vs NP.<br><br>

                            <strong style="color: #ffd700;">Why This Blocked Progress for 50 Years:</strong><br>
                            Most proof techniques in complexity theory ‚Äî diagonalization, simulation, etc. ‚Äî relativize. If a technique works, it should still work when given oracle access. But the oracle results show P vs NP has different answers depending on the oracle, so relativizing techniques are useless.<br><br>

                            <strong style="color: #ffd700;">The D‚ÇÉ Approach:</strong><br>
                            The digital sum function D‚ÇÉ(n) has a special property: it's defined purely in terms of the base-3 representation of n, with no reference to any computational process. This means:<br><br>

                            <span style="color: #ffaa44;">D‚ÇÉ(n) is the same whether computed with or without an oracle.</span><br><br>

                            When Turing machine configurations are encoded as integers using prime factorization, the D‚ÇÉ values of these encodings form patterns that are independent of any oracle access the machine might have.<br><br>

                            <strong style="color: #ffd700;">The Key Insight:</strong><br>
                            If the spectral gap Œî is derived from D‚ÇÉ properties (specifically, from the fractal structure of D‚ÇÉ on configuration encodings), then Œî itself is oracle-independent. An oracle-independent proof of Œî > 0 would be non-relativizing, potentially bypassing the Baker-Gill-Solovay barrier.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Switch between modes
            function switchMode(mode) {
                document.querySelectorAll('.mode').forEach(m => m.classList.remove('active'));
                document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
                document.getElementById(mode).classList.add('active');
                event.target.classList.add('active');

                // Initialize mode-specific visualization
                if (mode === 'consciousness') consciousnessViz.init();
                if (mode === 'fractal') fractalViz.init();
                if (mode === 'spectrum') spectrumViz.init();
                if (mode === 'tests') testProblems.init();
                if (mode === 'oracle') oracleTests.init();
                if (mode === 'compare') compareViz.init();
            }

            // Constants
            const PHI = (1 + Math.sqrt(5)) / 2;
            const ALPHA_P = Math.sqrt(2);
            const ALPHA_NP = PHI + 0.25;
            const PI_10 = Math.PI / 10;
            const CH2_THRESHOLD = 0.95398265359;

            // Expandable block toggle
            function toggleExpandable(element) {
                element.classList.toggle('expanded');
            }

            // Guardian card toggle
            function toggleGuardian(element) {
                element.classList.toggle('expanded');
            }

            // Constants continued in proof_explorer.js
        </script>
        <script src="proof_explorer.js"></script>
</body>

</html>